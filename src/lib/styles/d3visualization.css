/* D3 Visualization Styling
 * This file contains styles for the D3-based graph visualization components
 * Used primarily in D3CardBoard.svelte for network visualization
 */

/* Base Variables */
:root {
  --node-text-light: #333333;
  --node-text-dark: #e5e5e5;
  --node-stroke-light: #e5e5e5;
  --node-stroke-dark: #444444;
  --node-active-stroke: #4299e1;
}

/* D3 Node Base Styling */
.node {
  cursor: pointer;
}

/* Card Node Styling */
.node-card {
  /* Base styles for card nodes */
}

/* Agreement Node Styling */
.node-agreement {
  /* Base styles for agreement nodes */
}

/* Category Wedges - Donut Segments */
.category-wedge {
  cursor: pointer;
  transition: all 0.2s ease;
}

.category-wedge:hover {
  filter: drop-shadow(0px 0px 3px rgba(0, 0, 0, 0.3));
}

/* Sub-wedges - Individual Items in Categories */
.sub-wedge {
  opacity: 0.9;
  filter: drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.1));
}

/* Connection Links Between Nodes */
.link-line {
  stroke: var(--node-stroke-light);
  stroke-width: 1.5;
  opacity: 0.8;
}

/* Text Styling for Nodes */
.count-text, 
.options-text,
.card-title, 
.card-type, 
.name-text {
  pointer-events: none;
  user-select: none;
  fill: var(--node-text-light);
}

/* Dark Theme Text Colors */
:global(html.dark) .count-text,
:global(html.dark) .options-text,
:global(html.dark) .card-title,
:global(html.dark) .card-type,
:global(html.dark) .name-text,
:global(html.scheme-dark) .count-text,
:global(html.scheme-dark) .options-text,
:global(html.scheme-dark) .card-title,
:global(html.scheme-dark) .card-type,
:global(html.scheme-dark) .name-text,
:global(html.scheme-only-dark) .count-text,
:global(html.scheme-only-dark) .options-text,
:global(html.scheme-only-dark) .card-title,
:global(html.scheme-only-dark) .card-type,
:global(html.scheme-only-dark) .name-text {
  fill: var(--node-text-dark);
}

/* Radial Menu Items */
.radial-item {
  pointer-events: none;
  transition: opacity 0.3s;
}

.radial-item-text {
  font-size: 10px;
  font-weight: 500;
  text-anchor: middle;
  dominant-baseline: middle;
  fill: var(--node-text-light);
}

:global(html.dark) .radial-item-text,
:global(html.scheme-dark) .radial-item-text,
:global(html.scheme-only-dark) .radial-item-text {
  fill: var(--node-text-dark);
}

.radial-item-bg {
  fill: #ffffff;
  stroke-width: 1;
  filter: drop-shadow(0px 1px 2px rgba(0,0,0,0.1));
}

/* Popover Styling */
.d3-popover {
  position: absolute;
  max-width: 20rem;
  max-height: 80vh;
  overflow-y: auto;
  z-index: 1000;
  background-color: var(--color-surface-50);
  border-radius: 0.5rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  border: 1px solid var(--color-surface-300);
}

/* Dark mode support for popovers */
:global(html.dark) .d3-popover,
:global(html.scheme-dark) .d3-popover,
:global(html.scheme-only-dark) .d3-popover {
  background-color: var(--color-surface-900);
  border-color: var(--color-surface-600);
}